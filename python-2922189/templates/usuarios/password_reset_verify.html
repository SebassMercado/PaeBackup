{% extends 'base.html' %}
{% block title %}Verificar Código{% endblock %}
{% block login_content %}
<div class="login-grid" style="min-height:70vh;">
  <section class="login-card" style="max-width:520px;margin:auto;">
    <h2>Verificar Código</h2>
    <p style="color:var(--text-soft);font-size:.85rem;">Ingresa tu correo o documento, el código recibido y tu nueva contraseña.</p>
    {% if messages %}<div class="alerts">{% for m in messages %}<div class="alert {% if m.tags == 'error' %}alert-error{% else %}alert-success{% endif %}">{{ m }}</div>{% endfor %}</div>{% endif %}
    <form method="post">
      {% csrf_token %}
      <div class="form-group">
        <label for="correoDocumento">Correo o Documento</label>
        <input class="input-control" id="correoDocumento" name="correoDocumento" required placeholder="usuario@empresa.com">
      </div>
      <div class="form-group">
        <label for="codigo">Código de Verificación</label>
        <input class="input-control" id="codigo" name="codigo" required placeholder="000000" maxlength="6" pattern="[0-9]{6}">
      </div>
      <div class="form-group">
        <label for="password">Nueva contraseña</label>
        <input class="input-control" type="password" id="password" name="password" required minlength="6" placeholder="••••••">
      </div>
      <div class="form-group">
        <label for="password2">Confirmar contraseña</label>
        <input class="input-control" type="password" id="password2" name="password2" required minlength="6" placeholder="••••••">
      </div>
      <button type="submit" class="login-button-main">Cambiar contraseña</button>
    </form>
    <div style="margin-top:1rem;text-align:center;font-size:.75rem;">
      <a href="/usuarios/password-reset/" style="color:var(--accent);text-decoration:none;">Solicitar nuevo código</a> ·
      <a href="/login/" style="color:var(--accent);text-decoration:none;">Volver a Login</a>
    </div>
  </section>
</div>
{% endblock %}
